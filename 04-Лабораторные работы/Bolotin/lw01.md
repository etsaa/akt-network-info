Практическая работа №2
======================

### Организация сети для проведения экспериментов. Знакомство с утилитой SCAPY.

**Выполнил:** Болотин Максим Владимирович

* * * * *

### Введение

Для успешной работы необходимы:

-   Основная ОС Windows
-   Установленный Virtual Box
-   Виртуальный Linux Ubuntu Server
-   Две виртуальные Linux Ubuntu Desktop
-   Доступ в интернет

![Скриншот01](https://i.ibb.co/xF01m2V/01.jpg)\
 [Скриншот 1: интерфейс Virtual Box с установленными машинами под ОС Windows](https://i.ibb.co/xF01m2V/01.jpg)

В настройках Наших UbuntuDsk 1 и 2 убедимся, что тип подключения в
параметрах сети выставлен **NAT**, это необходимо для доступа в интернет

![Скриншот02](https://i.ibb.co/Qbn7KR1/02.jpg)\
 [Скриншот 2: тип подключения в настройках виртуалок стоит **NAT**](https://i.ibb.co/Qbn7KR1/02.jpg)

### Установка всего необходимого

Запускаем Терминал Ubuntu сочетанием клавиш *Alt + Ctrl + T* для
установки приложений:

-   wireshark
-   scapy
-   net-tools


    $ sudo apt-get install (приложение)

Сделать это необходимо на обеих машинах

![Скриншот03](https://i.ibb.co/ygxNYRY/03.jpg)\
 [Скриншот 3: пример установки приложения в Терминале Linux](https://i.ibb.co/ygxNYRY/03.jpg)

### Настройка сети

Теперь откроем настройки -\> сеть и в параметре *Проводное* нажмем
иконку **звездочки**

![Скриншот04](https://i.ibb.co/Vp4Lr71/04.jpg)\
 [Скриншот 4: интерфейс настроек сети](https://i.ibb.co/Vp4Lr71/04.jpg)

Здесь параметр *IPv6* необходимо выключить, а в *IPv4* настроить адрес и
маску сети *Вручную* со следующими параметры:

|  Адрес ВМ1   |  Адрес ВМ2   |  Маска сети |
 | ------------- | ------------- | --------------- |
 | 196.168.2.1 |  196.168.2.2  | 255.255.255.0 |

![Скриншот05](https://i.ibb.co/SJfx0s7/06.jpg)\
 [Скриншот 5: таким образом должны быть настроены обе машины](https://i.ibb.co/SJfx0s7/06.jpg)

### Запуск приложений

Теперь, когда все готово к коннекту, запускаем на первой машине
**Wireshark**, на второй **Scapy**\
 Для этого в терминале первой машины вводим:

    $ sudo wireshark

В терминале второй машине:

    $ sudo scapy

![Скриншот06](https://i.ibb.co/TgFGp7m/07.jpg)\
 [Скриншот 6: запущенные Wireshark и Scapy](https://i.ibb.co/TgFGp7m/07.jpg)

### Отправка пакетов

##### Машина с Wireshark

Для того, чтобы отправить какие-либо пакеты на удаленную машину
необходимо знать ее IP-адрес, для этого запускаем терминал и вызываем
следующую команду

    $ ipconfig

![Скриншот06](https://i.ibb.co/GCVRfKN/08.jpg)\
 [Скриншот 6: интерфейс команды *ipconfig*](https://i.ibb.co/GCVRfKN/08.jpg)

Здесь нужен блок enp0s3, и его 4-ая строка

    enp0s3: ...
            ether 08:00:27:69:06:6a
            ...

##### Машина с Scapy

Команда отправки пакета

    >>>> sendp(Ether(src='08:00:27:69:06:6a')/ 'Any_Text', iface='enp0s3')

Где ключевые слова означают:\
 *sendp* - команда отправки пакета в сеть\
 *Ether* - протокол пакета\
 *src* - адрес источника\
 *‘Any\_Text’* - данные пакета\
 *iface* - через какую сетевую карту отправляем

### Вывод

Такой вот небыстрой работой Мы научились отправлять пакеты с одной
виртуальной машины на другую